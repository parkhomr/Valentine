<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–±–µ—Ä–∏ —Å–µ—Ä–¥—Ü–∞</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: pink;
        }
        #gameContainer, #targetGame {
            position: relative;
            width: 400px;
            height: 600px;
            margin: auto;
            overflow: hidden;
            background: white;
            border: 2px solid red;
        }
        #message, #targetMessage {
            font-size: 24px;
            margin-top: 20px;
            display: none;
        }
        .button {
            display: none;
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
        }
        #scoreCounter, #targetScoreCounter {
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
        }
        .hidden {
            display: none;
        }
    .styled-button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            margin: 10px;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.3s;
        }
        .styled-button:hover {
            background-color: #ff1493;
            transform: scale(1.1);
        }
        .styled-button:active {
            transform: scale(0.9);
        }
    </style>
</head>
<body>
    <h1>–°–æ–±–µ—Ä–∏ —Å–µ—Ä–¥—Ü–∞ üíñ</h1>
    <p>–ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏!</p>
    <div id="gameContainer"></div>
    <div id="scoreCounter">–°–æ–±—Ä–∞–Ω–æ —Å–µ—Ä–¥–µ—Ü: 0</div>
    <div id="message">–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–æ–ø–∞—Å—Ç—å –≤ —Å–µ—Ä–¥—Ü–µ 3 —Ä–∞–∑–∞ üéØ</div>
    
    <div id="targetGame" class="hidden">
        <h2>–ü–æ–ø–∞–¥–∏ –≤ —Å–µ—Ä–¥—Ü–µ üíò</h2>
        <div id="bigHeart" style="position: absolute; font-size: 40px;">‚ù§Ô∏è</div>
        <div id="targetScoreCounter">–ü–æ–ø–∞–¥–∞–Ω–∏–π: 0 / 3</div>
    </div>
    
    <button class="button hidden" id="nextGame">–ù–∞—á–∞—Ç—å –≤—Ç–æ—Ä—É—é –∏–≥—Ä—É</button>
    <button class="button hidden" id="finalButton">–¢—ã –º–æ—è –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞! ‚ù§Ô∏è</button>
    
    <script>
        const gameContainer = document.getElementById("gameContainer");
        const targetGame = document.getElementById("targetGame");
        let score = 0;
        const targetScore = 20;
        
        function createHeart() {
            const heart = document.createElement("div");
            heart.innerHTML = "‚ù§Ô∏è";
            heart.style.position = "absolute";
            heart.style.left = Math.random() * (gameContainer.clientWidth - 30) + "px";
            heart.style.top = "0px";
            heart.style.fontSize = "24px";
            heart.style.cursor = "pointer";
            gameContainer.appendChild(heart);
            
            let speed = 1 + Math.random() * 1.5;
            
            function fall() {
                let top = parseFloat(heart.style.top);
                if (top < gameContainer.clientHeight - 30) {
                    heart.style.top = (top + speed) + "px";
                    requestAnimationFrame(fall);
                } else {
                    gameContainer.removeChild(heart);
                }
            }
            
            heart.addEventListener("click", function() {
                score++;
                document.getElementById("scoreCounter").innerText = `–°–æ–±—Ä–∞–Ω–æ —Å–µ—Ä–¥–µ—Ü: ${score}`;
                gameContainer.removeChild(heart);
                if (score >= targetScore) {
                    document.getElementById("message").style.display = "block";
                    document.getElementById("nextGame").click();
                }
            });
            
            fall();
        }
        
        function spawnHearts() {
            setInterval(createHeart, 1000);
        }
        
        spawnHearts();
        
        document.getElementById("nextGame").addEventListener("click", function() {
            gameContainer.classList.add("hidden");
            targetGame.classList.remove("hidden");
            document.getElementById("message").classList.add("hidden");
            this.classList.add("hidden");
            startTargetGame();
        });
        
        function startTargetGame() {
            let hits = 0;
            const bigHeart = document.getElementById("bigHeart");
            let x = 150, y = 250;
            let dx = 2, dy = 2;
            
            function moveHeart() {
                x += dx;
                y += dy;
                
                if (x <= 0 || x >= targetGame.clientWidth - 80) dx *= -1;
                if (y <= 0 || y >= targetGame.clientHeight - 80) dy *= -1;
                
                bigHeart.style.left = `${x}px`;
                bigHeart.style.top = `${y}px`;
                requestAnimationFrame(moveHeart);
            }
            
            moveHeart();
            
            targetGame.addEventListener("click", function(event) {
                const dart = document.createElement("div");
                dart.innerHTML = "üíò";
                dart.style.position = "absolute";
                dart.style.left = event.clientX - 10 + "px";
                dart.style.top = event.clientY - 10 + "px";
                dart.style.fontSize = "30px";
                targetGame.appendChild(dart);
                
                setTimeout(() => targetGame.removeChild(dart), 500);
                
                const rect = bigHeart.getBoundingClientRect();
                if (event.clientX > rect.left && event.clientX < rect.right && event.clientY > rect.top && event.clientY < rect.bottom) {
                    hits++;
                    document.getElementById("targetScoreCounter").innerText = `–ü–æ–ø–∞–¥–∞–Ω–∏–π: ${hits} / 3`;
                    if (hits >= 3) {
                        document.body.innerHTML = '<h1>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? ‚ù§Ô∏è</h1><button id="yesButton" class="styled-button">–î–∞</button> <button id="sureButton" class="styled-button">–ö–æ–Ω–µ—á–Ω–æ!</button>';
                        document.getElementById("yesButton").addEventListener("click", showLoveMessage);
                        document.getElementById("sureButton").addEventListener("click", showLoveMessage);
                        function showLoveMessage() {
                            document.body.innerHTML = '<h1>–£—Ä–∞! –õ—é–±–ª—é —Ç–µ–±—è –º–æ—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ ‚ù§Ô∏è</h1><img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZHNqenJtMm9udXFpMnV4YXFoaG9kN2psMTh6ZmFhdnl1Ynl3NHFkYiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/c76IJLufpNwSULPk77/giphy.gif" alt="–õ—é–±–æ–≤—å">';
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
